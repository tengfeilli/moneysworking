
<html>
<head>
  <meta charset="utf-8">
  <title>Breadth Overview - SP500 (2025-12-19)</title>
  <style>
    body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  margin: 1.5rem;
  background: var(--bg);
  color: var(--text);
}

h1,h2,h3 { color: var(--text); }
    :root{
  --bg: #0b0f14;
  --text: #e5e7eb;
  --muted: #a3a3a3;

  --panel: #121826;
  --panel2: #0f172a;
  --border: #263244;

  --link: #60a5fa;
  --tagBg: #1f2a44;
  --tagText: #93c5fd;

  --selectBg: #0b1220;
  --selectText: #e5e7eb;
}

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .back-link {
  font-size: 0.9rem;
  color: var(--link);
  text-decoration: none;
}
.back-link:hover { text-decoration: underline; }

.index-tag {
  display: inline-block;
  padding: 0.1rem 0.5rem;
  border-radius: 999px;
  font-size: 0.8rem;
  background: var(--tagBg);
  color: var(--tagText);
  margin-left: 0.4rem;
  vertical-align: middle;
  border: 1px solid var(--border);
}

.index-select {
  padding: 0.25rem 0.5rem;
  font-size: 0.9rem;
  border-radius: 0.4rem;
  border: 1px solid var(--border);
  background: var(--selectBg);
  color: var(--selectText);
}
.index-select:focus{
  outline: none;
  box-shadow: 0 0 0 2px rgba(96,165,250,0.25);
}
    .top-row {
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      margin-top: 0.6rem;
      margin-bottom: 1rem;
    }

    .headline-panel {
  flex: 2;
  padding: 0.8rem 1rem;
  border-radius: 0.6rem;
  background: var(--panel);
  border: 1px solid var(--border);
}

.signals-panel {
  flex: 3;
  padding: 0.8rem 1rem;
  border-radius: 0.6rem;
  background: var(--panel2);
  border: 1px solid var(--border);
}

.signals-panel ul {
  margin: 0.2rem 0 0 1.1rem;
  padding: 0;
  line-height: 1.45;
  font-size: 0.9rem;
  color: var(--text);
}

    .signals-panel li { color: var(--text); }

    .light-pill{
  display:inline-block;
  padding: 0.05rem 0.55rem;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.85rem;
  line-height: 1.2;
  border: 1px solid transparent;
  vertical-align: middle;
}

.light-green{ color:#1aaf5d; background:#eaf7f0; border-color:#bfe8d1; }
.light-red{   color:#d93025; background:#fdecec; border-color:#f5c2bf; }
.light-yellow{color:#8a6d1d; background:#fff7e0; border-color:#f3df9b; }

    .chart-frame {
  width: 100%;
  height: 750px;
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  box-shadow: none;
  background: #0b0f14;
}

    .main-row {
      display: flex;
      gap: 1.2rem;
      margin-top: 0.8rem;
    }

    .chart-panel {
      flex: 1;
      min-width: 0;
    }
    .chart-frame {
      width: 100%;
      height: 750px;
      border: none;
      border-radius: 0.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }

    .disclaimer-block {
  margin-top: 1.2rem;
  padding: 0.9rem 1rem;
  border-radius: 0.75rem;
  border: 1px solid var(--border);
  background: var(--panel);
}

.disclaimer-title {
  font-size: 0.95rem;
  font-weight: 600;
  margin: 0 0 0.4rem 0;
  color: var(--text);
}

.disclaimer-text {
  font-size: 18px;
  color: var(--muted);
  line-height: 1.7;
  margin: 0;
}

    @media (max-width: 1024px) {
      .main-row {
        flex-direction: column;
      }
      .switch-panel {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div>
      <h1 style="margin-bottom: 0.2rem;">
        Breadth Overview - <span id="index-title">SP500</span>
        <span class="index-tag" id="index-date">2025-12-19</span>
      </h1>
      <div style="margin-top: 0.2rem;">
        <a href="index.html" class="back-link">&larr; 返回首页</a>
      </div>
    </div>
        <div>
      <label for="index-select" style="font-size:0.85rem; margin-right:0.35rem;">指数：</label>
      <select id="index-select" class="index-select">
        
          <option value="sp500" selected>
            SP500
          </option>
        
          <option value="ndx100" >
            NDX100
          </option>
        
      </select>

      &nbsp;&nbsp;
      <label for="range-select" style="font-size:0.85rem; margin-right:0.35rem;">区间：</label>
      <select id="range-select" class="index-select">
        <option value="all" selected>全部</option>
        <option value="1y">近一年</option>
      </select>
    </div>
  </div>

  <div class="top-row">
    <div class="headline-panel">
      <h2>状态灯摘要</h2>
      <div id="headline-text">MA20启动灯：<span class="light-pill light-red">RED</span>（上次转灯：2025-12-02 GREEN→RED）<br>组合状态灯：<span class="light-pill light-yellow">YELLOW</span>（上次转灯：2025-12-19 RED→YELLOW）</div>
    </div>

    <div class="signals-panel">
      <h2>条件评论</h2>
      <ul id="bullet-list">
        
          <li>高位扩散开始收敛，涨势有一定降温迹象。</li>
        
          <li>低位个股在增多，短期结构性风险有所抬头。</li>
        
      </ul>
    </div>
  </div>

  <div class="main-row">
    <div class="chart-panel">
      <iframe
        id="chart-frame"
        class="chart-frame"
        src="sp500_breadth_chart.html"
      ></iframe>
    </div>
  </div>

    <div class="disclaimer-block">
    <div class="disclaimer-title">免责声明</div>
    <p class="disclaimer-text">
      本材料由个人研究工具自动生成，所载内容仅为对公开市场数据的客观整理与量化结果展示，
      不构成、亦不应被视为任何形式的证券或期货投资建议、买卖要约或投资承诺。本材料未考虑任何投资者的具体投资目标、
      财务状况及风险承受能力，相关观点和结论亦可能随市场环境变化而不再适用。期权及其他衍生品交易具有高度风险，
      可能导致远超初始投入的损失。请在独立判断的基础上自行作出投资决策，并在必要时咨询具备相应资质的专业机构；
      使用本材料进行的任何投资行为及其后果由投资者自行承担。
    </p>
  </div>

    <script>
    const INDEX_DATA = {"sp500": {"code": "sp500", "name": "SP500", "date": "2025-12-19", "headline": "MA20启动灯：<span class=\"light-pill light-red\">RED</span>（上次转灯：2025-12-02 GREEN→RED）<br>组合状态灯：<span class=\"light-pill light-yellow\">YELLOW</span>（上次转灯：2025-12-19 RED→YELLOW）", "bullets": ["高位扩散开始收敛，涨势有一定降温迹象。", "低位个股在增多，短期结构性风险有所抬头。"], "chart_src_all": "sp500_breadth_chart.html", "chart_src_1y": "sp500_breadth_chart_1y.html"}, "ndx100": {"code": "ndx100", "name": "NDX100", "date": "2025-12-19", "headline": "MA20启动灯：<span class=\"light-pill light-red\">RED</span>（上次转灯：2025-10-24 GREEN→RED）<br>组合状态灯：<span class=\"light-pill light-yellow\">YELLOW</span>（上次转灯：2025-12-16 GREEN→YELLOW）", "bullets": ["高位扩散开始收敛，涨势有一定降温迹象。", "低位个股在增多，短期结构性风险有所抬头。"], "chart_src_all": "ndx100_breadth_chart.html", "chart_src_1y": "ndx100_breadth_chart_1y.html"}};
    const DEFAULT_CODE = "sp500";

    function renderIndex(code, rangeMode) {
      const data = INDEX_DATA[code];
      if (!data) return;

      const rangeSelect = document.getElementById("range-select");
      if (!rangeMode && rangeSelect) {
        rangeMode = rangeSelect.value;
      }
      if (!rangeMode) {
        rangeMode = "all";
      }

      // 标题 + 日期
      document.getElementById("index-title").textContent = data.name;
      document.getElementById("index-date").textContent  = data.date;

      // 每日点评
      document.getElementById("headline-text").innerHTML = data.headline || "";

      // 条件评论
      const bl = document.getElementById("bullet-list");
      bl.innerHTML = "";
      (data.bullets || []).forEach(text => {
        const li = document.createElement("li");
        li.textContent = text;
        bl.appendChild(li);
      });

      // 图表 iframe：根据区间切换 all / 1y
      const frame = document.getElementById("chart-frame");
      if (rangeMode === "1y" && data.chart_src_1y) {
        frame.src = data.chart_src_1y;
      } else {
        frame.src = data.chart_src_all;
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      const indexSelect = document.getElementById("index-select");
      const rangeSelect = document.getElementById("range-select");

      function refresh() {
        const code = indexSelect.value;
        const mode = rangeSelect ? rangeSelect.value : "all";
        renderIndex(code, mode);
      }

      indexSelect.addEventListener("change", refresh);
      if (rangeSelect) {
        rangeSelect.addEventListener("change", refresh);
      }

      // 初始渲染
      refresh();
    });
  </script>
</body>
</html>